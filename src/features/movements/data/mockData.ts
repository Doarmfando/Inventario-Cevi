// src/features/movements/data/mockData.ts - RELACIONADO CON INVENTARIO EXISTENTE

import type { Movement, MovementReasonOptions, AvailableProduct } from '../types/movement.types';

// PRODUCTOS DISPONIBLES (coinciden con los del inventario) - USANDO TIPOS UNIFICADOS
export const availableProducts: AvailableProduct[] = [
  { 
    id: '1', 
    name: 'Lenguado Filetes', 
    container: 'Congelador 1 - Pescado',
    category: 'Pescados',
    unit: 'kg',
    currentStock: 8,
    currentPackaged: 3,
    estimatedPrice: 28.50,
    minStock: 5
  },
  { 
    id: '2', 
    name: 'Pulpo', 
    container: 'Congelador 2 - Mariscos',
    category: 'Mariscos',
    unit: 'kg',
    currentStock: 12,
    currentPackaged: 2,
    estimatedPrice: 45.00,
    minStock: 3
  },
  { 
    id: '3', 
    name: 'Yuca', 
    container: 'Congelador 4 - Verduras',
    category: 'Tubérculos',
    unit: 'kg',
    currentStock: 15,
    currentPackaged: 5,
    estimatedPrice: 3.50,
    minStock: 10
  },
  { 
    id: '4', 
    name: 'Rocoto', 
    container: 'Congelador 4 - Verduras',
    category: 'Condimentos',
    unit: 'kg',
    currentStock: 0,
    currentPackaged: 0,
    estimatedPrice: 8.00,
    minStock: 2
  },
  { 
    id: '5', 
    name: 'Langostinos', 
    container: 'Congelador 2 - Mariscos',
    category: 'Mariscos',
    unit: 'kg',
    currentStock: 6,
    currentPackaged: 2,
    estimatedPrice: 35.00,
    minStock: 4
  },
  { 
    id: '6', 
    name: 'Aceite Vegetal', 
    container: 'Almacén Seco',
    category: 'Aceites',
    unit: 'litros',
    currentStock: 20,
    currentPackaged: 4,
    estimatedPrice: 4.20,
    minStock: 8
  },
  { 
    id: '7', 
    name: 'Limones', 
    container: 'Congelador 4 - Verduras',
    category: 'Cítricos',
    unit: 'kg',
    currentStock: 8,
    currentPackaged: 4,
    estimatedPrice: 2.80,
    minStock: 15
  },
  {
    id: '8',
    name: 'Inca Kola',
    container: 'Refrigerador 5 - Gaseosas',
    category: 'Bebidas',
    unit: 'unidades',
    currentStock: 48,
    currentPackaged: 2,
    estimatedPrice: 2.50,
    minStock: 24
  },
  {
    id: '9',
    name: 'Cerveza Pilsen',
    container: 'Refrigerador 6 - Cervezas',
    category: 'Bebidas Alcohólicas',
    unit: 'unidades',
    currentStock: 36,
    currentPackaged: 3,
    estimatedPrice: 3.80,
    minStock: 24
  },
  {
    id: '10',
    name: 'Camarones',
    container: 'Congelador 2 - Mariscos',
    category: 'Mariscos',
    unit: 'kg',
    currentStock: 10,
    currentPackaged: 2,
    estimatedPrice: 42.00,
    minStock: 3
  },
  {
    id: '11',
    name: 'Tomates',
    container: 'Congelador 4 - Verduras',
    category: 'Verduras',
    unit: 'kg',
    currentStock: 5,
    currentPackaged: 2,
    estimatedPrice: 3.20,
    minStock: 5
  },
  {
    id: '12',
    name: 'Papas Amarillas',
    container: 'Congelador 4 - Verduras',
    category: 'Tubérculos',
    unit: 'kg',
    currentStock: 12,
    currentPackaged: 3,
    estimatedPrice: 1.50,
    minStock: 10
  }
];

// MOVIMIENTOS REALES DEL SISTEMA - ACTUALIZADOS CON TIPOS UNIFICADOS
export const mockMovements: Movement[] = [
  {
    id: '1',
    productId: '1',
    productName: 'Lenguado Filetes',
    container: 'Congelador 1 - Pescado',
    type: 'entrada',
    quantity: 10,
    packagedUnits: 3, 
    previousStock: 0,
    newStock: 10,
    unitPrice: 30.00,
    totalValue: 300.00,
    reason: 'compra',
    observations: 'Compra inicial para el fin de semana. Producto fresco del mercado pesquero - Almacenado en congelador pescado.',
    documentNumber: 'FAC-001-2024',
    createdBy: 'admin',
    createdAt: new Date('2025-08-16T09:15:00'),
  },
  {
    id: '2',
    productId: '1',
    productName: 'Lenguado Filetes',
    container: 'Congelador 1 - Pescado',
    type: 'salida',
    quantity: 2,
    packagedUnits: 1,
    previousStock: 10,
    newStock: 8,
    unitPrice: 30.00,
    totalValue: 60.00,
    reason: 'venta',
    observations: 'Venta para mesa 5 - Ceviche especial',
    documentNumber: 'BOL-001-0156',
    createdBy: 'mesero1',
    createdAt: new Date('2025-08-17T13:45:00'),
  },
  {
    id: '3',
    productId: '2',
    productName: 'Pulpo',
    container: 'Congelador 2 - Mariscos',
    type: 'entrada',
    quantity: 15,
    packagedUnits: 2,
    previousStock: 0,
    newStock: 15,
    unitPrice: 48.50,
    totalValue: 727.50,
    reason: 'reposicion',
    observations: 'Reposición semanal. Pulpo congelado de calidad premium - Almacenado en congelador mariscos.',
    documentNumber: 'FAC-002-2024',
    createdBy: 'admin',
    createdAt: new Date('2025-08-14T08:30:00'),
  },
  {
    id: '4',
    productId: '2',
    productName: 'Pulpo',
    container: 'Congelador 2 - Mariscos',
    type: 'salida',
    quantity: 3,
    packagedUnits: 0,
    previousStock: 15,
    newStock: 12,
    unitPrice: 48.50,
    totalValue: 145.50,
    reason: 'venta',
    observations: 'Pulpo al olivo para evento empresarial',
    documentNumber: 'BOL-001-0157',
    createdBy: 'chef1',
    createdAt: new Date('2025-08-18T11:20:00'),
  },
  {
    id: '5',
    productId: '3',
    productName: 'Yuca',
    container: 'Congelador 4 - Verduras',
    type: 'entrada',
    quantity: 20,
    packagedUnits: 5,
    previousStock: 0,
    newStock: 20,
    unitPrice: 3.20,
    totalValue: 64.00,
    reason: 'compra',
    observations: 'Yuca fresca del mercado mayorista. Buena calidad - Dividida en 5 bolsas de 1kg c/u.',
    documentNumber: 'FAC-003-2024',
    createdBy: 'admin',
    createdAt: new Date('2025-08-15T07:45:00'),
  },
  {
    id: '6',
    productId: '3',
    productName: 'Yuca',
    container: 'Congelador 4 - Verduras',
    type: 'salida',
    quantity: 5,
    packagedUnits: 2,
    previousStock: 20,
    newStock: 15,
    unitPrice: 3.20,
    totalValue: 16.00,
    reason: 'consumo-interno',
    observations: 'Para preparación de yuca frita del menú del día',
    createdBy: 'chef2',
    createdAt: new Date('2025-08-17T16:30:00'),
  },
  {
    id: '7',
    productId: '5',
    productName: 'Langostinos',
    container: 'Congelador 2 - Mariscos',
    type: 'entrada',
    quantity: 8,
    packagedUnits: 2,
    previousStock: 0,
    newStock: 8,
    unitPrice: 38.00,
    totalValue: 304.00,
    reason: 'compra',
    observations: 'Langostinos grandes para platos especiales - Congelador de mariscos',
    documentNumber: 'FAC-004-2024',
    createdBy: 'admin',
    createdAt: new Date('2025-08-15T10:00:00'),
  },
  {
    id: '8',
    productId: '5',
    productName: 'Langostinos',
    container: 'Congelador 2 - Mariscos',
    type: 'salida',
    quantity: 2,
    packagedUnits: 0,
    previousStock: 8,
    newStock: 6,
    unitPrice: 38.00,
    totalValue: 76.00,
    reason: 'venta',
    observations: 'Langostinos al ajillo - mesa VIP',
    documentNumber: 'BOL-001-0158',
    createdBy: 'chef1',
    createdAt: new Date('2025-08-19T19:15:00'),
  },
  {
    id: '9',
    productId: '7',
    productName: 'Limones',
    container: 'Congelador 4 - Verduras',
    type: 'entrada',
    quantity: 10,
    packagedUnits: 4,
    previousStock: 0,
    newStock: 10,
    unitPrice: 2.50,
    totalValue: 25.00,
    reason: 'compra',
    observations: 'Limones frescos para ceviche y causa - Congelador de verduras',
    documentNumber: 'FAC-005-2024',
    createdBy: 'admin',
    createdAt: new Date('2025-08-15T06:30:00'),
  },
  {
    id: '10',
    productId: '7',
    productName: 'Limones',
    container: 'Congelador 4 - Verduras',
    type: 'salida',
    quantity: 2,
    packagedUnits: 1,
    previousStock: 10,
    newStock: 8,
    unitPrice: 2.50,
    totalValue: 5.00,
    reason: 'consumo-interno',
    observations: 'Para preparación de leche de tigre',
    createdBy: 'chef2',
    createdAt: new Date('2025-08-18T14:20:00'),
  },
  {
    id: '11',
    productId: '8',
    productName: 'Inca Kola',
    container: 'Refrigerador 5 - Gaseosas',
    type: 'entrada',
    quantity: 48,
    packagedUnits: 2,
    previousStock: 0,
    newStock: 48,
    unitPrice: 2.50,
    totalValue: 120.00,
    reason: 'compra',
    observations: 'Gaseosas para el fin de semana - 2 packs de 24 unidades',
    documentNumber: 'FAC-007-2024',
    createdBy: 'admin',
    createdAt: new Date('2025-08-18T14:00:00'),
  },
  {
    id: '12',
    productId: '9',
    productName: 'Cerveza Pilsen',
    container: 'Refrigerador 6 - Cervezas',
    type: 'entrada',
    quantity: 36,
    packagedUnits: 3,
    previousStock: 0,
    newStock: 36,
    unitPrice: 3.80,
    totalValue: 136.80,
    reason: 'compra',
    observations: 'Cervezas para eventos - 3 packs de 12 unidades',
    documentNumber: 'FAC-008-2024',
    createdBy: 'admin',
    createdAt: new Date('2025-08-18T14:30:00'),
  },
];

// OPCIONES DE MOTIVOS PARA EL FORMULARIO
export const movementReasonOptions: MovementReasonOptions = {
  entrada: [
    { value: 'compra', label: 'Compra' },
    { value: 'reposicion', label: 'Reposición' },
    { value: 'ajuste-positivo', label: 'Ajuste Positivo' },
    { value: 'devolucion', label: 'Devolución' },
    { value: 'transferencia-entrada', label: 'Transferencia de Entrada' },
    { value: 'donacion', label: 'Donación' },
    { value: 'produccion-interna', label: 'Producción Interna' },
  ],
  salida: [
    { value: 'venta', label: 'Venta' },
    { value: 'perdida', label: 'Pérdida' },
    { value: 'roto', label: 'Roto/Dañado' },
    { value: 'vencido', label: 'Producto Vencido' },
    { value: 'ajuste-negativo', label: 'Ajuste Negativo' },
    { value: 'transferencia-salida', label: 'Transferencia de Salida' },
    { value: 'consumo-interno', label: 'Consumo Interno' },
    { value: 'merma', label: 'Merma' },
    { value: 'degustacion', label: 'Degustación' },
  ],
};

// FUNCIÓN PARA FORMATEAR DATOS CALCULADOS
export const formatMovementData = (movement: Movement) => {
  return {
    ...movement,
    formattedDate: new Date(movement.createdAt).toLocaleDateString('es-PE', {
      day: '2-digit',
      month: '2-digit',
      year: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    }),
    movementTypeLabel: movement.type === 'entrada' ? 'Entrada' : movement.type === 'salida' ? 'Salida' : 'Ajuste',
    reasonLabel: movementReasonOptions[movement.type as 'entrada' | 'salida']
      ?.find(option => option.value === movement.reason)?.label || movement.reason,
    packagedText: movement.packagedUnits > 0 ? `${movement.packagedUnits} emp.` : '-',
    stockChange: movement.type === 'entrada' ? `+${movement.quantity}` : `-${movement.quantity}`,
  };
};